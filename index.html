<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Poblamar League</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#0a0a0a;margin:0;padding:20px;color:#fff;}
h1{text-align:center;margin-bottom:20px;}
.filters{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-bottom:25px;}
input,select{padding:8px 12px;font-size:14px;border-radius:6px;border:1px solid #ccc;background:#fff;color:#000;outline:none;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:15px;}
.card{position:relative;background:#fff;border-radius:12px;padding:0;box-shadow:0 4px 10px rgba(0,0,0,0.3);cursor:pointer;transition:transform 0.2s,box-shadow 0.2s;width:220px;height:300px;display:flex;flex-direction:column;justify-content:flex-end;overflow:visible;}
.card:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,0.5);}
.card img{width:100%;height:210px;object-fit:contain;margin:6px auto 10px auto;filter:drop-shadow(0 8px 10px rgba(0,0,0,0.4));}
.card h3{margin:-3px 5px 6px 5px;text-align:center;color:#000;}
.stats{position:absolute;top:8px;left:8px;background:rgba(255,255,255,0.9);padding:4px 6px;border-radius:6px;font-size:12px;color:#000;}
.points-square{position:absolute;bottom:10px;right:10px;width:24px;height:24px;border-radius:4px;color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:bold;}
.mvp-flames{position:absolute;top:-35px;right:-25px;transform:scale(0.4);transform-origin:top right;pointer-events:none;}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:none;justify-content:center;align-items:center;z-index:1000;}
.modal-content{background:#fff;border-radius:12px;max-width:400px;width:100%;padding:20px;position:relative;color:#000;box-sizing:border-box;}
.close{position:absolute;top:10px;right:15px;font-size:18px;cursor:pointer;}
@media(max-width:480px){body{padding:10px}.filters{flex-direction:column;align-items:stretch;gap:8px}input,select{width:100%;box-sizing:border-box}.grid{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px}.card{width:100%;height:auto;padding-bottom:10px}.card img{height:150px;margin-bottom:5px}.points-square{width:20px;height:20px;font-size:11px}.mvp-flames{transform:scale(0.3);top:-25px;right:-20px}.modal-content{max-width:90%;padding:15px}}
#passwordOverlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:flex;justify-content:center;align-items:center;z-index:2000;color:#fff;backdrop-filter:blur(10px);}
.password-box{background:rgba(0,0,0,0.85);padding:30px 20px;border-radius:12px;text-align:center;}
.password-box input{padding:8px 12px;border-radius:6px;border:1px solid #ccc;width:200px;margin-bottom:10px;}
.password-box button{padding:8px 15px;border-radius:6px;border:none;background:#4caf50;color:#fff;cursor:pointer;}
#mainContent.locked{filter:blur(8px);pointer-events:none;user-select:none;}

 .news-board {
  max-width: 900px;
  margin: 0 auto 30px auto;
  background: #ffffff;
  border-radius: 14px;
  padding: 15px 20px;
  color: #000;
  box-shadow: 0 6px 15px rgba(0,0,0,0.35);
}

.news-board h2 {
  text-align: center;
  margin-bottom: 15px;
}

.news-item {
  display: none;
  align-items: center;
  gap: 15px;
}

.news-item.active {
  display: flex;
}

.news-item img {
  width: 120px;
  height: 80px;
  object-fit: cover;
  border-radius: 10px;
}

.news-item p {
  margin: 0;
  font-size: 14px;
}
 
</style>
</head>
<body>

<div id="passwordOverlay">
  <div class="password-box">
    <h2>Introduce la contrase√±a</h2>
    <input type="password" id="passwordInput" placeholder="Contrase√±a">
    <button onclick="checkPassword()">Entrar</button>
    <p id="passwordError" style="color:red; display:none;">Contrase√±a incorrecta</p>
  </div>
</div>

<div id="mainContent" class="locked">

<h1>Poblamar League</h1>

  <div class="news-board">
  <h2>üì∞ Noticias</h2>
  <div class="news-item active">
    <img src="img/noticia1.jpg" alt="Noticia 1">
    <p><b>David Fern√°ndez MVP</b><br>Gran actuaci√≥n en la Jornada 1 con 20 puntos.</p>
  </div>
  <div class="news-item">
    <img src="img/noticia2.jpg" alt="Noticia 2">
    <p><b>Partido intenso</b><br>La Poblamar League arranca con muchos goles.</p>
  </div>
  <div class="news-item">
    <img src="img/noticia3.jpg" alt="Noticia 3">
    <p><b>Sergi Casta√±o en forma</b><br>3 goles y 2 asistencias en su debut.</p>
  </div>
</div>


<div class="filters">
  <input type="text" id="searchName" placeholder="Buscar jugador...">
  <select id="filterPosition">
    <option value="">Todas las posiciones</option>
    <option value="Portero">Portero</option>
    <option value="Defensa">Defensa</option>
    <option value="Centrocampista">Centrocampista</option>
    <option value="Delantero">Delantero</option>
  </select>
  <select id="filterJornada">
    <option value="">Todas las jornadas</option>
    <option value="1">Jornada 1</option>
    <option value="2">Jornada 2</option>
    <option value="3">Jornada 3</option>
  </select>
  <select id="sortPoints">
    <option value="">Ordenar por puntos</option>
    <option value="desc">M√°s a menos</option>
    <option value="asc">Menos a m√°s</option>
  </select>
</div>

<div class="grid" id="playersGrid"></div>

<div class="modal" id="playerModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">‚úñ</span>
    <div id="modalBody"></div>
  </div>
</div>

</div>

<script>
const players = [
  {nombre:"Toni",apellido:"Valls",edad:19,posicion:"Centrocampista",goles:4,asistencias:4,mvps:0,puntos:21,jornada:21,mvp:false,amarillas:0,rojas:0,foto:"img/Toni.png",puntosPorJornada:{1:21,2:0,3:0}},
  {nombre:"Unai",apellido:"Martinez",edad:19,posicion:"Delantero",goles:0,asistencias:1,mvps:0,puntos:1,jornada:1,mvp:false,amarillas:0,rojas:0,foto:"img/Unai.png",puntosPorJornada:{1:1,2:0,3:0}},
  {nombre:"Sergio",apellido:"Jim√©nez",edad:19,posicion:"Delantero",goles:1,asistencias:0,mvps:0,puntos:4,jornada:4,mvp:false,amarillas:1,rojas:0,foto:"img/Sergio.png",puntosPorJornada:{1:4,2:0,3:0}},
  {nombre:"Jaime",apellido:"del Rio",edad:19,posicion:"Centrocampista",goles:2,asistencias:1,mvps:0,puntos:12,jornada:12,mvp:false,amarillas:1,rojas:0,foto:"img/Jaime.png",puntosPorJornada:{1:12,2:0,3:0}},
  {nombre:"Hicham",apellido:"",edad:19,posicion:"Defensa",goles:1,asistencias:0,mvps:0,puntos:5,jornada:5,mvp:false,amarillas:0,rojas:0,foto:"img/Hicham.png",puntosPorJornada:{1:5,2:0,3:0}},
  {nombre:"Sergi",apellido:"Casta√±o",edad:19,posicion:"Delantero",goles:3,asistencias:2,mvps:0,puntos:17,jornada:17,mvp:false,amarillas:0,rojas:0,foto:"img/Sergi.png",puntosPorJornada:{1:17,2:0,3:0}},
  {nombre:"David",apellido:"Fernandez",edad:19,posicion:"Centrocampista",goles:2,asistencias:5,mvps:1,puntos:20,jornada:20,mvp:true,amarillas:1,rojas:0,foto:"img/David.png",puntosPorJornada:{1:20,2:0,3:0}},
  {nombre:"Eloi",apellido:"Rey",edad:19,posicion:"Defensa",goles:2,asistencias:0,mvps:0,puntos:12,jornada:12,mvp:false,amarillas:1,rojas:0,foto:"img/Eloi2.png",puntosPorJornada:{1:12,2:0,3:0}},
  {nombre:"Axel",apellido:"",edad:18,posicion:"Centrocampista",goles:2,asistencias:0,mvps:0,puntos:7,jornada:7,mvp:false,amarillas:2,rojas:0,foto:"img/sinfoto2.png",puntosPorJornada:{1:7,2:0,3:0}},
  {nombre:"Arnau",apellido:"Casta√±o",edad:17,posicion:"Centrocampista",goles:2,asistencias:0,mvps:0,puntos:11,jornada:11,mvp:false,amarillas:0,rojas:0,foto:"img/Arnau.png",puntosPorJornada:{1:11,2:0,3:0}},
  {nombre:"Jose",apellido:"Romero",edad:16,posicion:"Centrocampista",goles:0,asistencias:0,mvps:0,puntos:1,jornada:1,mvp:false,amarillas:0,rojas:0,foto:"img/Jose.png",puntosPorJornada:{1:1,2:0,3:0}},
  {nombre:"Marc",apellido:"Gutta",edad:19,posicion:"Defensa",goles:0,asistencias:1,mvps:0,puntos:4,jornada:4,mvp:false,amarillas:1,rojas:0,foto:"img/Marc.png",puntosPorJornada:{1:4,2:0,3:0}},
  {nombre:"Ibu",apellido:"",edad:19,posicion:"Defensa",goles:0,asistencias:2,mvps:0,puntos:4,jornada:4,mvp:false,amarillas:0,rojas:0,foto:"img/sinfoto2.png",puntosPorJornada:{1:4,2:0,3:0}},
  {nombre:"Moha",apellido:"",edad:19,posicion:"Centrocampista",goles:0,asistencias:0,mvps:0,puntos:-3,jornada:-3,mvp:false,amarillas:3,rojas:1,foto:"img/Moha.png",puntosPorJornada:{1:-3,2:0,3:0}},
  {nombre:"Gerard",apellido:"",edad:19,posicion:"Centrocampista",goles:1,asistencias:0,mvps:0,puntos:4,jornada:4,mvp:false,amarillas:0,rojas:0,foto:"img/sinfoto2.png",puntosPorJornada:{1:4,2:0,3:0}},
  {nombre:"Jan",apellido:"Mart√≠nez",edad:19,posicion:"Centrocampista",goles:2,asistencias:1,mvps:0,puntos:10,jornada:10,mvp:false,amarillas:0,rojas:0,foto:"img/Jan.png",puntosPorJornada:{1:10,2:0,3:0}},
  {nombre:"Aitor",apellido:"Borrallo",edad:19,posicion:"Delantero",goles:3,asistencias:1,mvps:0,puntos:18,jornada:18,mvp:false,amarillas:0,rojas:0,foto:"img/Aitor3.png",puntosPorJornada:{1:18,2:0,3:0}}
];

const grid = document.getElementById('playersGrid');
let jornadaSeleccionada = null;

// Color seg√∫n puntos
function puntosColor(p){
  if(jornadaSeleccionada){
    let puntos = p.puntosPorJornada[jornadaSeleccionada];
    if(puntos === 0) return '#9e9e9e';
    if(p.mvp && jornadaSeleccionada===1) return '#ffeb3b'; // MVP de esa jornada
    if(puntos<1) return '#f44336';
    if(puntos<=5) return '#ff9800';
    if(puntos<=9) return '#4caf50';
    return '#2196f3';
  } else {
    if(p.mvp) return '#ffeb3b';
    if(p.puntos<1) return '#f44336';
    if(p.puntos<=5) return '#ff9800';
    if(p.puntos<=9) return '#4caf50';
    return '#2196f3';
  }
}

function renderPlayers(list){
  grid.innerHTML = '';
  list.forEach(p=>{
    let puntos, esMVP;
    if(jornadaSeleccionada){
      puntos = p.puntosPorJornada[jornadaSeleccionada] || 0;
      esMVP = p.mvp && jornadaSeleccionada===1;
      if(puntos===0) puntos='-';
    } else {
      puntos=p.puntos;
      esMVP=p.mvp;
    }
    const color = puntos==='-'?'#9e9e9e':puntosColor(p);
    const card = document.createElement('div');
    card.className='card';
    card.innerHTML=`
      <img src="${p.foto}">
      <h3>${p.nombre}</h3>
      <div class="stats"><b>${p.posicion}</b></div>
      <div class="points-square" style="background:${color}">${puntos}</div>
    `;
    if(esMVP){
      card.innerHTML+=`<img class="mvp-flames" src="https://em-content.zobj.net/source/animated-noto-color-emoji/427/fire_1f525.gif">`;
    }
    card.onclick=()=>openModal(p);
    grid.appendChild(card);
  });
}

function openModal(p){
  document.getElementById('modalBody').innerHTML=`
    <h2>${p.nombre} ${p.apellido}</h2>
    <p><b>Edad:</b> ${p.edad}</p>
    <p><b>Posici√≥n:</b> ${p.posicion}</p>
    <p><b>Goles:</b> ${p.goles}</p>
    <p><b>Asistencias:</b> ${p.asistencias}</p>
    <p><b>MVPs:</b> ${p.mvps}</p>
    <p><b>Puntos totales:</b> ${p.puntos}</p>
    <p><b>Amarillas:</b> ${p.amarillas}</p>
    <p><b>Rojas:</b> ${p.rojas}</p>
  `;
  document.getElementById('playerModal').style.display='flex';
}

function closeModal(){ document.getElementById('playerModal').style.display='none'; }

// Render inicial
renderPlayers(players);

/* ========================= FILTROS ========================= */
const searchInput = document.getElementById('searchName');
const filterPosition = document.getElementById('filterPosition');
const filterJornada = document.getElementById('filterJornada');
const sortPoints = document.getElementById('sortPoints');

function filterAndRender(){
  let filtered = players;
  const search=searchInput.value.toLowerCase();
  if(search) filtered=filtered.filter(p=>p.nombre.toLowerCase().includes(search) || (p.apellido && p.apellido.toLowerCase().includes(search)));
  const position=filterPosition.value;
  if(position) filtered=filtered.filter(p=>p.posicion===position);
  const jornadaVal = filterJornada.value;
  jornadaSeleccionada = jornadaVal?Number(jornadaVal):null;
  if(jornadaSeleccionada) filtered=filtered.filter(p=>p.puntosPorJornada[jornadaSeleccionada]!==undefined);
  const sort = sortPoints.value;
  if(sort==='asc'){ filtered=filtered.slice().sort((a,b)=>{
    let pa = jornadaSeleccionada?a.puntosPorJornada[jornadaSeleccionada]:a.puntos;
    let pb = jornadaSeleccionada?b.puntosPorJornada[jornadaSeleccionada]:b.puntos;
    return pa-pb;
  });}
  if(sort==='desc'){ filtered=filtered.slice().sort((a,b)=>{
    let pa = jornadaSeleccionada?a.puntosPorJornada[jornadaSeleccionada]:a.puntos;
    let pb = jornadaSeleccionada?b.puntosPorJornada[jornadaSeleccionada]:b.puntos;
    return pb-pa;
  });}
  renderPlayers(filtered);
}

searchInput.addEventListener('input',filterAndRender);
filterPosition.addEventListener('change',filterAndRender);
filterJornada.addEventListener('change',filterAndRender);
sortPoints.addEventListener('change', filterAndRender);

/* =========================
   Contrase√±a y desbloqueo
   ========================= */
const correctPassword = "1234"; // Cambia a tu contrase√±a
const mainContent = document.getElementById('mainContent');

function checkPassword() {
  const input = document.getElementById('passwordInput').value;
  if(input === correctPassword){
    document.getElementById('passwordOverlay').style.display = 'none';
    mainContent.classList.remove('locked'); // Quita el blur
  } else {
    document.getElementById('passwordError').style.display = 'block';
  }
}

// Presionar Enter tambi√©n valida
document.getElementById('passwordInput').addEventListener('keypress', function(e){
  if(e.key === 'Enter') checkPassword();
});

/* =========================
   Cerrar modal al hacer click fuera del contenido
   ========================= */
const modal = document.getElementById('playerModal');
modal.addEventListener('click', function(e){
  if(e.target === modal) closeModal();
});


/* =========================
   Noticias autom√°ticas
   ========================= */
let currentNews = 0;
const newsItems = document.querySelectorAll('.news-item');

setInterval(() => {
  newsItems[currentNews].classList.remove('active');
  currentNews = (currentNews + 1) % newsItems.length;
  newsItems[currentNews].classList.add('active');
}, 5000);


</script>
</body>
</html>
